"use strict";(self.webpackChunkfuture_test_task_docker=self.webpackChunkfuture_test_task_docker||[]).push([[56],{4056:function(e,n,t){t.r(n),t.d(n,{default:function(){return W}});var r,a=t(6656),o=t(4165),s=t(5861),l=t(9439),c=t(3143),i=t(2791),u="Header_block_sorting__sT9Zi",d="Header_block_categories__UImsG",_="Header_block_sortBy__99PpC",h="Header_search_input__YxhaH",v="Header_search_svg__mCVrZ",f="Select_Wrapper__A+r1C",m="Select_select__bgwrt",p="Select_option__FzCij",x=t(184),j=(0,i.memo)((function(e){var n=e.className,t=e.options,r=e.onChange,a=e.value,o=(0,i.useMemo)((function(){return null===t||void 0===t?void 0:t.map((function(e){return(0,x.jsx)("option",{className:p,value:e.value,children:e.content},e.value)}))}),[t]);return(0,x.jsx)("div",{className:(0,c.A)(f,{},[n]),children:(0,x.jsx)("select",{className:m,value:a,onChange:function(e){r&&r(e.target.value)},children:o})})})),b=j,g=[{value:"",content:"all"},{value:"art",content:"art"},{value:"biography",content:"biography"},{value:"history",content:"history"},{value:"medical",content:"medical"},{value:"poetry",content:"poetry"}],y=t(5558),C=t(6),k=function(){var e=(0,y.TL)(),n=(0,i.useCallback)((function(n){e((0,C.uB)(n))}),[e]);return(0,x.jsx)(b,{options:g,onChange:n})},w=[{value:"relevance",content:"relevance"},{value:"newest",content:"newest"}],N=(0,i.memo)((function(){var e=(0,y.TL)(),n=(0,i.useCallback)((function(n){e((0,C.zR)(n))}),[e]);return(0,x.jsx)(b,{className:(0,c.A)("",{},[]),options:w,onChange:n})})),Z="Input_input__CEEIe",L=(0,i.memo)((function(e){var n=e.className,t=e.value,r=e.onChange,a=e.placeholder,o=e.onKeyDown;return(0,x.jsx)("input",{className:(0,c.A)(Z,{},[n]),type:"text",value:t,onChange:function(e){r&&r(e.target.value)},placeholder:a,onKeyDown:o})})),O=t(5994),A=t(9434),B=t(804),E=["title","titleId"];function I(){return I=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},I.apply(this,arguments)}function S(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function M(e,n){var t=e.title,a=e.titleId,o=S(e,E);return i.createElement("svg",I({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",width:"24px",height:"24px",ref:n,"aria-labelledby":a},o),t?i.createElement("title",{id:a},t):null,r||(r=i.createElement("path",{d:"M 21 3 C 11.621094 3 4 10.621094 4 20 C 4 29.378906 11.621094 37 21 37 C 24.710938 37 28.140625 35.804688 30.9375 33.78125 L 44.09375 46.90625 L 46.90625 44.09375 L 33.90625 31.0625 C 36.460938 28.085938 38 24.222656 38 20 C 38 10.621094 30.378906 3 21 3 Z M 21 5 C 29.296875 5 36 11.703125 36 20 C 36 28.296875 29.296875 35 21 35 C 12.703125 35 6 28.296875 6 20 C 6 11.703125 12.703125 5 21 5 Z"})))}var P=i.forwardRef(M),H=(t.p,t(8675)),T=(0,i.memo)((function(){var e=(0,y.TL)(),n=(0,i.useState)(""),t=(0,l.Z)(n,2),r=t[0],a=t[1],f=(0,A.v9)(O.fL),m=f.query,p=f.startIndex,j=f.maxResults,b=(0,A.v9)(O.$E),g=b.sortBy,C=b.filterBy;return(0,i.useEffect)((function(){var n=function(){var n=(0,s.Z)((0,o.Z)().mark((function n(){return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{e((0,B.X)({query:m,sortBy:g,filterBy:C,startIndex:p,maxResults:j}))}catch(t){console.log(t)}case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[e,C,j,m,g,p]),(0,x.jsxs)("header",{children:[(0,x.jsx)("h1",{children:"Search for books"}),(0,x.jsxs)("div",{className:(0,c.A)(h),children:[(0,x.jsx)(L,{value:r,onChange:function(e){a(e)},placeholder:"search",onKeyDown:function(n){"Enter"===n.key&&""!==r.trim()&&e((0,H._L)(r))}}),(0,x.jsx)("div",{className:v,onClick:function(){e((0,H._L)(r))},children:(0,x.jsx)(P,{})})]}),(0,x.jsxs)("div",{className:(0,c.A)(u),children:[(0,x.jsxs)("div",{className:(0,c.A)(d),children:[(0,x.jsx)("p",{children:"Categories"}),(0,x.jsx)(k,{})]}),(0,x.jsxs)("div",{className:(0,c.A)(_),children:[(0,x.jsx)("p",{children:"Sorting by"}),(0,x.jsx)(N,{})]})]})]})})),q=t(3299),D=t(1694),K=t.n(D),R="LoadMoreButton_load_more__lkC9D",z=t(1413),F=t(4925),Y="Button_button__wqjY+",G=["children","className","onClick"],J=function(e){var n=e.children,t=e.className,r=e.onClick,a=(0,F.Z)(e,G),o=K()(Y,t);return(0,x.jsx)("button",(0,z.Z)((0,z.Z)({className:o,onClick:r},a),{},{children:n}))},U=t(5114),V=function(){var e=(0,y.TL)(),n=(0,A.v9)(U.f),t=n.books,r=n.loading;return t.length>0&&!r?(0,x.jsx)(J,{className:R,onClick:function(){e((0,H.qA)())},children:"Load more"}):null},W=(0,i.memo)((function(){return(0,x.jsxs)("div",{className:K()(a.Z.container),"data-testid":"main-page",children:[(0,x.jsx)(T,{}),(0,x.jsxs)("div",{className:K()(a.Z.book_list),children:[(0,x.jsx)(q.F,{}),(0,x.jsx)("div",{className:K()(a.Z.btn_load_more),children:(0,x.jsx)(V,{})})]})]})}))},6656:function(e,n){n.Z={book_list:"MainPage_book_list__ApKzJ",btn_load_more:"MainPage_btn_load_more__PZ6+M"}}}]);
//# sourceMappingURL=56.aaa707b3.chunk.js.map